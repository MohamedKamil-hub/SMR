copia de seguridad
actualizaciones
firewall
antivirus



Firewall
entre wan o man y la lan filtra que pasa y que no, por reglas modificableds
reservar primera y ultima subred
primero a dmz y zona desmilitarizada y luego a la red local
iptable
nftable mas nueva

sudo su apt-get update

apt-get upgrade

apt-get remove iptables

apt-get install nftables

nft



para una regla se necesita una cadena


ejercicio  usando inet nft  add table inet filter
![[{BA9A0ADB-CB92-49AA-AE28-2B2D3D27CB7F}.png]]


ejercicio 2 

![[{5D664900-60D4-4D73-8718-6D63B9B0907C}.png]]



COPIAS DE SEGURIDAD

rsync con crontabs
hacer un script de shell que haga backups diferenciales 


EJERCICIO 2

# NFTables – Ejercicio 2

## Parte 1: Preparación
- Limpiar todas las reglas existentes
- Crear la tabla `inet filter`
- Crear las cadenas `input`, `output` y `forward` con política `drop`

## Parte 2: Reglas de entrada
- Permitir SSH solo desde la LAN
- Permitir ICMP (ping) solo desde la LAN  
- Bloquear y contar paquetes de un host específico de la LAN (opcional)
 sudo nft add rule inet filter input ip saddr 192.168.1.50 counter drop
- Añadir counter a cada regla para monitorización

## Parte 3: Reglas de salida
- Permitir DNS (UDP y TCP) al exterior
- Permitir HTTP/HTTPS al exterior
- Permitir SSH al exterior
- Añadir counter a cada regla

## Parte 4: Verificación
- Listar la configuración actual con `sudo nft list ruleset`
-![[{34C1CE6C-75B1-479D-ADBB-6D552060BA9D}.png]]
- Comprobar contadores generando tráfico (ej. hacer ping desde la LAN o navegar desde el servidor)
- Ver qué paquetes han sido bloqueados

## Parte 5: Reto extra
- Permitir tráfico web entrante (HTTP/HTTPS) solo desde un rango de IPs externo permitido (203.0.113.0/)
- Crear una regla que bloquee intentos de acceso a puertos no usados y contar los paquetes bloqueados